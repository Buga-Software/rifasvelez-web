---
import Layout from "@/layouts/layout.astro";
import Nav from "@/components/nav.astro";
---

<Layout title="¡Sé vendedor!">
  <Nav />
  <main class="relative py-28 md:py-32">
    <div class="max-w-6xl mx-auto px-4 space-y-16">
      <section class="grid md:grid-cols-2 gap-24 items-center">
        <div class="space-y-6">
          <h1
            class="text-4xl md:text-5xl font-bold text-[var(--primary)] leading-tight"
          >
            ¡Únete a nuestra red de vendedores!
          </h1>
          <p class="text-lg text-gray-700 leading-relaxed">
            En <strong>Vélez, la Tradicional de los Bugueños</strong>, buscamos
            personas <strong>honestas</strong> y <strong>comprometidas</strong>
            que quieran generar ingresos de forma flexible.
          </p>

          <a
            id="btnVendedor"
            href="https://wa.me/573169419113?text=Hola,%20estoy%20interesado%20en%20ser%20vendedor"
            target="_blank"
            class="w-full flex items-center justify-center gap-3 font-semibold bg-[var(--primary)] text-white px-8 py-4 rounded-full text-lg hover:bg-transparent hover:text-[var(--primary)] hover:border-2 hover:border-[var(--primary)] transition-all duration-600"
          >
            <svg
              id="whatsapp"
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              viewBox="0 0 24 24"
              class="w-6 h-6"
            >
              <path
                d="M20.52 3.48A11.86 11.86 0 0 0 12 0C5.39 0 0 5.39 0 12c0 2.11.55 4.15 1.59 5.95L0 24l6.21-1.61A11.92 11.92 0 0 0 12 24c6.61 0 12-5.39 12-12 0-3.19-1.24-6.19-3.48-8.52ZM12 22c-1.82 0-3.57-.5-5.11-1.45l-.37-.23-3.68.96.99-3.59-.24-.37A9.89 9.89 0 0 1 2 12C2 6.48 6.48 2 12 2s10 4.48 10 10-4.48 10-10 10Zm5.36-7.44c-.29-.15-1.72-.85-1.99-.94-.27-.1-.46-.15-.65.15-.19.29-.74.94-.91 1.13-.17.19-.34.21-.63.08-.29-.15-1.21-.45-2.31-1.44-.85-.75-1.42-1.68-1.59-1.96-.17-.29-.02-.45.13-.6.13-.13.29-.34.44-.51.15-.17.19-.29.29-.48.1-.19.05-.36-.02-.51-.08-.15-.65-1.58-.9-2.17-.23-.55-.46-.48-.65-.48h-.56c-.19 0-.51.07-.77.36-.26.29-1.01.99-1.01 2.42 0 1.42 1.04 2.79 1.19 2.98.15.19 2.05 3.13 4.97 4.39.7.3 1.25.48 1.67.61.7.22 1.34.19 1.84.12.56-.08 1.72-.7 1.97-1.37.24-.67.24-1.24.17-1.36-.07-.12-.26-.19-.55-.34Z"
              ></path>
            </svg>
            <span id="btnText">Quiero ser vendedor</span>
          </a>
        </div>

        <div class="relative rounded-3xl overflow-hidden shadow-lg">
          <video
            id="agenteVideo"
            src="/assets/Agente-Velez.mp4"
            playsinline
            controls
            class="w-full h-full object-cover"></video>
        </div>
      </section>

      <section class="space-y-8">
        <h2 class="text-2xl md:text-3xl font-semibold text-gray-800">
          ¿Qué necesitas para comenzar?
        </h2>
        <div
          class="grid md:grid-cols-3 gap-4 text-gray-700 text-lg leading-relaxed"
        >
          <div
            class="bg-gray-50 rounded-2xl p-6 shadow-md"
          >
            <p>
              Tener <strong>más de 21 años</strong> y disponibilidad para generar
              ingresos extra a tu ritmo.
            </p>
          </div>
          <div
            class="bg-gray-50 rounded-2xl p-6 shadow-md"
          >
            <p>
              Presentar una <strong>hoja de vida sencilla</strong> en nuestra oficina
              para conocerte.
            </p>
          </div>
          <div
            class="bg-gray-50 rounded-2xl p-6 shadow-md"
          >
            <p>
              Recibirás la <strong>boletería oficial</strong> y comenzarás a vender
              con <strong>excelentes comisiones</strong>.
            </p>
          </div>
        </div>
      </section>

      <section class="text-center space-y-4">
        <p class="text-lg text-gray-600">
          Nuestro equipo te explicará en persona todo sobre los pagos, sorteos y
          beneficios que ofrecemos.
        </p>
      </section>
    </div>
  </main>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const video = document.getElementById("agenteVideo") as HTMLVideoElement | null;
      const button = document.getElementById("btnVendedor");
      const buttonText = document.getElementById("btnText");
      const whatsappIcon = document.getElementById("whatsapp");

      if (video) {
        video.volume = 0.3;

        video.addEventListener("timeupdate", () => {
          if (Math.floor(video.currentTime) === 21) {
            if (button) button.classList.add("bg-transparent", "border-2", "border-[var(--primary)]");
            if (buttonText) buttonText.classList.add("text-[var(--primary)]");
            if (whatsappIcon) whatsappIcon.classList.add("text-[var(--primary)]");
          } else {
            if (button) button.classList.remove("bg-transparent", "border-2", "border-[var(--primary)]");
            if (buttonText) buttonText.classList.remove("text-[var(--primary)]");
            if (whatsappIcon) whatsappIcon.classList.remove("text-[var(--primary)]");
          }
        });
      }
    });
  </script>
</Layout>
